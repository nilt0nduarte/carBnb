
<div class="container mt-5">
  <div class="row justify-content-center">
      <div class="col-12 col-sm-6 col-md-8">
        <h1><%= @car.brand %> <%= @car.model %></h1>
          Price: $ <span id='price'><%= @car.price_per_day %></span><br/>
        <%= simple_form_for [@car, @booking] do |f| %>
                  <%= f.input :start_date, as: :date,
                                           html5: true %>
                  <%= f.input :end_date, as: :date,
                                         html5: true %>
                <button onclick="calc()">Calculate</button><br/>
                Total Value <span id='value'></span>
            <%= f.submit  class: 'btn btn-success' %>
        <% end %>
      </div>
  </div>
</div>

<script type="text/javascript">
  function totalDays()
  {
    var dropdt = document.getElementById("booking_end_date").valueAsDate;
    var pickdt = document.getElementById("booking_start_date").valueAsDate;
    return parseInt((dropdt - pickdt) / (24 * 3600 * 1000));
  }

  function calc()
{
  document.getElementById('value').innerHTML=totalDays()*parseInt(document.getElementById('price').innerHTML);
}
</script>
